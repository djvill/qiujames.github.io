<!-- TABLIST CONTENT -->
{% if include.id %}
  {% assign tablist = page[include.id] %}
  {% assign tablist_name = "tablist-" | append: include.id %}
{% else %}
  {% assign tablist = page.tablist %}
  {% assign tablist_name = "tablist" %}
{% endif %}

<div class="tablist-container">
  <div class="tablist">
    <div class="tablist__inner-wrap">
      <div class="tablist__menu">
        <nav class="tablist-nav">
          <ul class="visible-links">
            {% for tab in tablist %}
              {% assign class = tablist_name | append: "-id-tab" %}
              {% if include.id %}
                {% if tab == page[include.id].first %}
                  {% assign class = class | append: " active" %}
                {% endif %}
              {% else %}
                {% if tab == page.tablist.first %}
                  {% assign class = class | append: " active" %}
                {% endif %}
              {% endif %}
			    
              <li class="tablist__menu-item">
                <a
                  class="{{ class }}"
                  onClick="tablistClickHandle(event, '{{ tablist_name }}', '{{ tab.title }}')"
                >
                {{tab.title}}
                </a>
              </li>
            {%- endfor -%}
          </ul>
        </nav>
      </div>
    </div>
  </div>

  {% if include.id %}
    {% for tab in page[include.id] %}
      {% assign display = "none" %}
      {% if tab == page[include.id].first %}
        {% assign display = "block" %}
      {% endif %}
      {% include tablist_content id=include.id tablist_name=tablist_name tab=tab display=display %}
    {% endfor %}
  {% else %}
    {% for tab in page.tablist %}
      {% assign display = "none" %}
      {% if tab == page.tablist.first %}
        {% assign display = "block" %}
      {% endif %}
      {% include tablist_content id=include.id tablist_name="tablist" tab=tab display=display %}
    {% endfor %}
  {% endif %}

</div>
